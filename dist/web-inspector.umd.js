!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";class e{constructor(e){this.overlay=e,this.active=!1,this._onMove=this._onMove.bind(this),this._onKeyDown=this._onKeyDown.bind(this)}enable(){this.active||(this.active=!0,document.addEventListener("mousemove",this._onMove,!0),document.addEventListener("keydown",this._onKeyDown,!0))}disable(){this.active&&(this.active=!1,document.removeEventListener("mousemove",this._onMove,!0),document.removeEventListener("keydown",this._onKeyDown,!0),this.overlay.hide())}_onMove(e){const t=e.target;if((n=t)&&("__inspector-root__"===n.id||"__inspector-overlay__"===n.id||"__inspector-panel__"===n.id))return;var n;if(t===document.documentElement||t===document.body)return void this.overlay.hide();const o=this._describeElement(t);this.overlay.highlightElement(t,{title:o,desc:"Modo selector activo. Pulsa ESC para salir."})}_onKeyDown(e){"Escape"===e.key&&this.disable()}_describeElement(e){return`${e.tagName.toLowerCase()}${e.id?`#${e.id}`:""}${e.classList&&e.classList.length?"."+Array.from(e.classList).join("."):""}`}}class t{constructor(){this.host=document.createElement("div"),this.host.id="__inspector-overlay__",this.host.style.position="fixed",this.host.style.left=0,this.host.style.top=0,this.host.style.width="100vw",this.host.style.height="100vh",this.host.style.pointerEvents="none",this.host.style.zIndex="2147483647",this.shadow=this.host.attachShadow({mode:"open"}),this.shadow.appendChild(this._createStyles()),this.container=document.createElement("div"),this.container.className="insp-highlight-container",this.shadow.appendChild(this.container),this.instances=[],document.body.appendChild(this.host),this._repositionAll=this._repositionAll.bind(this),window.addEventListener("scroll",this._repositionAll,!0),window.addEventListener("resize",this._repositionAll,!0)}_createStyles(){const e=document.createElement("style");return e.textContent="\n      .insp-highlight-container {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: none; /* activamos sólo en elementos hijos */\n      }\n\n      .insp-highlight-box {\n        position: absolute;\n        border: 2px solid #ff4d4d;\n        background: rgba(255, 77, 77, 0.15);\n        border-radius: 6px;\n        pointer-events: auto;\n      }\n\n      .insp-highlight-icon {\n        position: absolute;\n        width: 22px;\n        height: 22px;\n        background: #ff4d4d;\n        border-radius: 50%;\n        color: #fff;\n        font-size: 14px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        pointer-events: auto;\n        transform: translate(-50%, -50%);\n      }\n\n      .insp-tooltip {\n        position: absolute;\n        max-width: 260px;\n        background: #111;\n        color: #fff;\n        padding: 10px 14px;\n        border-radius: 8px;\n        font-family: system-ui;\n        font-size: 14px;\n        line-height: 1.4;\n        pointer-events: none;\n        opacity: 0;\n        transform: translateY(-6px);\n        transition: opacity .15s ease, transform .15s ease;\n        border: 1px solid #333;\n        box-shadow: 0 4px 16px rgba(0,0,0,0.45);\n        z-index:999999\n      }\n\n      .insp-tooltip.visible {\n        opacity: 1;\n        transform: translateY(0);\n      }\n\n      .insp-title {\n        font-weight: 600;\n        margin-bottom: 4px;\n        color: #ff4d4d;\n      }\n    ",e}highlightList(e){this.clearAll(),e.forEach(e=>{e.el.getBoundingClientRect();const t=document.createElement("div");t.className="insp-highlight-box";const n=document.createElement("div");n.className="insp-highlight-icon",n.textContent="!";const o=document.createElement("div");o.className="insp-tooltip",o.innerHTML=`\n        <div class="insp-title">${e.message}</div>\n        <div>${e.description||""}</div>\n      `;const i={el:e.el,box:t,icon:n,tooltip:o};this.instances.push(i),this.container.appendChild(t),this.container.appendChild(n),this.container.appendChild(o);const s=()=>o.classList.add("visible"),a=()=>o.classList.remove("visible");t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",a),n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",a)}),this._repositionAll()}_repositionAll(){this.instances.forEach(e=>{const t=e.el.getBoundingClientRect();e.box.style.left=t.left+"px",e.box.style.top=t.top+"px",e.box.style.width=t.width+"px",e.box.style.height=t.height+"px",e.icon.style.left=t.right+"px",e.icon.style.top=t.top+"px",e.tooltip.style.left=t.left+"px",e.tooltip.style.top=t.bottom+6+"px"})}clearAll(){this.instances.forEach(e=>{e.box.remove(),e.icon.remove(),e.tooltip.remove()}),this.instances=[]}destroy(){this.clearAll(),window.removeEventListener("scroll",this._repositionAll,!0),window.removeEventListener("resize",this._repositionAll,!0),this.host.remove()}}class n{constructor(){this.rules=[]}register(e){this.rules.push(...e)}run(e){const t=[],n=[],o=this.rules.filter(t=>t.group===e);for(const i of o)if(i.query){document.querySelectorAll(i.query).forEach(o=>{if(this.isInspectorNode(o))return;let s=i.test(o);if(!0===s)return;if(!1===s&&(s={el:o,ruleId:i.id,message:i.message,description:i.description,severity:i.severity,category:i.category||"info",mode:i.mode||"overlay"}),!s)return;if("object"!=typeof s)return;(Array.isArray(s)?s:[s]).forEach(s=>{if(!s||"object"!=typeof s)return;const a={...s,el:s.el||o,ruleId:s.ruleId||i.id,message:s.message||i.message,description:s.description||i.description,severity:s.severity||i.severity,category:s.category||i.category||"info",mode:s.mode||i.mode||"overlay"};this.isInspectorNode(a.el)||("overlay"===a.mode&&t.push(a),"panel"===a.mode&&n.push(a),"seo"===e&&"overlay"===a.mode&&n.push({...a,mode:"panel"}))})})}else{let o=i.test(document);if(!0===o||!1===o)continue;if(!o)continue;if("object"!=typeof o)continue;(Array.isArray(o)?o:[o]).forEach(o=>{if(!o||"object"!=typeof o)return;const s={...o,ruleId:o.ruleId||i.id,message:o.message||i.message,description:o.description||i.description,severity:o.severity||i.severity,category:o.category||i.category||"info",mode:o.mode||i.mode||"panel"};s.el&&this.isInspectorNode(s.el)||("overlay"===s.mode&&t.push(s),"panel"===s.mode&&n.push(s),"seo"===e&&"overlay"===s.mode&&n.push({...s,mode:"panel"}))})}return{overlay:t,panel:n}}isInspectorNode(e){return!!e&&(!!e.id?.startsWith("__inspector-")||!!e.closest?.("[id^='__inspector-']"))}}function o(e){if(!e.id)throw new Error("Rule must have an id");if(!e.group)throw new Error("Rule must have a group");if(!e.message)throw new Error("Rule must have a message");return{id:e.id,group:e.group,message:e.message,description:e.description||"",severity:e.severity||"error",mode:e.mode||"overlay",category:e.category||"info",query:e.query||null,test:e.test}}const i=[o({id:"img-alt-missing",group:"dom",message:"La imagen no tiene atributo alt.",description:'Todas las imágenes deben tener un alt descriptivo o alt="" si son decorativas.',severity:"error",query:"img:not([alt])",test:e=>!1}),o({id:"img-alt-empty-without-role",group:"dom",message:"La imagen tiene alt vacío pero no está marcada como decorativa.",description:'Si una imagen no aporta información debe tener alt="" y role="presentation".',severity:"warn",query:"img[alt='']",test:e=>"presentation"===e.getAttribute("role")}),o({id:"a-href-missing",group:"dom",message:"El enlace no tiene atributo href.",description:"Todos los enlaces deben tener un destino válido.",severity:"error",query:"a:not([href])",test:e=>!1}),o({id:"a-href-empty",group:"dom",message:"El enlace tiene href vacío.",description:"Un enlace vacío no es funcional. Añade un enlace real o usa <button> si es una acción.",severity:"error",query:"a[href='']",test:e=>!1}),o({id:"a-href-hash",group:"dom",message:"El enlace apunta solo a '#'.",description:"Los enlaces con '#' no tienen destino real. Úsalo solo para anclas reales o reemplázalo.",severity:"warn",query:"a[href='#']",test:e=>!1}),o({id:"a-href-js-void",group:"dom",message:"El enlace usa javascript:void(0), lo cual es una mala práctica.",description:"Evita javascript:void(0). Usa botones o controladores de eventos adecuados.",severity:"warn",query:"a[href^='javascript:void']",test:e=>!1}),o({id:"duplicate-ids",group:"dom",message:"Hay elementos con IDs duplicados.",description:"Cada id debe ser único en el documento.",severity:"error",test(){const e=document.querySelectorAll("[id]"),t=new Map,n=[];return e.forEach(e=>{const o=e.id;t.has(o)?n.push({el:e,ruleId:"duplicate-ids",message:"ID duplicado: #"+o,description:"Cada id debe ser único en el DOM.",severity:"error"}):t.set(o,e)}),n}}),o({id:"interactive-non-button",group:"dom",message:"Elemento interactivo no es un botón real.",description:"Usa <button> para elementos que no navegan a otro destino.",severity:"warn",query:"[onclick], [role='button']",test(e){const t=e.tagName.toLowerCase();return!("a"!==t||!e.hasAttribute("href"))||(!!e.matches("a.button, a.wp-element-button, a.wp-block-button__link")||"button"===t)}}),o({id:"tabindex-positive",group:"dom",message:"El tabindex positivo es una mala práctica.",description:'Usa tabindex="0" para elementos interactivos o no lo uses si no es necesario.',severity:"warn",query:"[tabindex]",test:e=>!(parseInt(e.getAttribute("tabindex"),10)>0)}),o({id:"input-no-label",group:"dom",message:"El campo de formulario no tiene etiqueta.",description:"Todos los inputs deben tener un <label> visible o aria-label.",severity:"error",query:"input:not([type='hidden']), textarea, select",test(e){const t=e.id;return!(!t||!document.querySelector(`label[for='${t}']`))||(!!e.closest("label")||!!e.getAttribute("aria-label"))}}),o({id:"img-too-big",group:"dom",message:"La imagen tiene un tamaño muy grande.",description:"Optimiza imágenes demasiado grandes para mejorar rendimiento.",severity:"info",query:"img",test(e){const t=e.naturalWidth,n=e.naturalHeight;return!(t>2500||n>2500)}}),o({id:"tabindex-invalid",group:"dom",message:"El tabindex tiene un valor inválido.",description:'Evita tabindex positivo. Usa tabindex="0".',severity:"warn",query:"[tabindex]",test(e){const t=parseInt(e.getAttribute("tabindex"),10);return Number.isInteger(t)&&t<=0}}),o({id:"redundant-role",group:"dom",message:"Rol redundante o innecesario.",description:"Muchos roles son inútiles porque el elemento ya es semántico.",severity:"info",query:"[role]",test(e){const t=e.tagName.toLowerCase(),n=e.getAttribute("role");return{h1:"heading",h2:"heading",h3:"heading",button:"button",ul:"list",ol:"list",li:"listitem"}[t]!==n}})],s=[o({id:"seo-title-missing",group:"seo",category:"info",mode:"panel",severity:"error",message:"Falta la etiqueta &lt;title&gt;.",description:"El título es fundamental para SEO y debe describir la página.",test(){const e=document.querySelector("title");return!(!e||""===e.textContent.trim())||{el:document.head,message:"Falta la etiqueta &lt;title&gt;.",description:"Incluye un título que describa correctamente la página.",severity:"error",category:"info",mode:"panel"}}}),o({id:"seo-description-missing",group:"seo",category:"info",mode:"panel",severity:"error",message:"Falta la meta description.",description:"La meta descripción ayuda a mejorar el CTR y el SEO.",test(){const e=document.querySelector("meta[name='description']");return!(!e||""===e.getAttribute("content")?.trim())||{el:document.head,message:"Falta la meta description.",description:'Añade &lt;meta name="description" content="..."&gt;',severity:"error",category:"info",mode:"panel"}}}),o({id:"seo-description-length",group:"seo",category:"info",mode:"panel",severity:"warn",query:"meta[name='description']",message:"La meta description tiene una longitud no óptima.",description:"Debe tener entre 50 y 160 caracteres.",test(e){const t=e.getAttribute("content")||"";return t.length>=50&&t.length<=160}}),o({id:"seo-canonical-missing",group:"seo",category:"info",mode:"panel",severity:"warn",message:"Falta la etiqueta &lt;link rel='canonical'&gt;.",description:"El canonical ayuda a evitar contenido duplicado.",test:()=>!!document.querySelector("link[rel='canonical']")||{el:document.head,message:"Falta la etiqueta &lt;link rel='canonical'&gt;.",description:"Añade una URL canónica válida.",severity:"warn",category:"info",mode:"panel"}}),o({id:"seo-viewport-missing",group:"seo",category:"info",mode:"panel",severity:"warn",message:"Falta la etiqueta meta viewport.",description:"Es necesaria para diseño responsive y móviles.",test:()=>!!document.querySelector("meta[name='viewport']")||{el:document.head,message:"Falta &lt;meta name='viewport'&gt;.",description:'Añade &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;',severity:"warn",category:"info",mode:"panel"}}),o({id:"seo-multiple-h1",group:"seo",category:"headings",mode:"panel",severity:"error",message:"Existe más de un &lt;h1&lt; en la página.",description:"Debe haber solo un H1 principal.",test(){const e=[...document.querySelectorAll("h1")];return e.length<=1||e.slice(1).map(e=>({el:e,ruleId:"seo-multiple-h1",message:"H1 duplicado",description:"Debe existir solo un H1 por página.",severity:"error",category:"headings",mode:"panel"}))}}),o({id:"seo-empty-h1",group:"seo",category:"headings",mode:"panel",severity:"warn",query:"h1",message:"El &lt;h1&gt; está vacío.",description:"Debe contener texto representativo del contenido.",test:e=>""!==e.textContent.trim()}),o({id:"seo-headings-structure",group:"seo",category:"headings",mode:"panel",severity:"info",message:"Jerarquía de encabezados detectada.",description:"Estructura completa de los encabezados en la página.",test(){const e=[...document.querySelectorAll("h1,h2,h3,h4,h5,h6")];return 0===e.length||e.map(e=>({el:e,message:`${e.tagName}: ${e.textContent.trim().slice(0,80)}`,description:"",severity:"info",category:"headings",mode:"panel"}))}}),o({id:"seo-poor-anchor-text",group:"seo",category:"links",mode:"overlay",severity:"info",query:"a[href]",message:"Texto de enlace poco descriptivo.",description:"Evita textos como 'haz clic aquí', 'ver más', 'leer más'.",test(e){const t=e.textContent.trim().toLowerCase();return!["click aquí","haz clic aquí","leer más","ver más","aquí","more","read more"].includes(t)}}),o({id:"seo-empty-href",group:"seo",category:"links",mode:"overlay",severity:"warn",query:"a[href=''], a[href='#']",message:"El enlace tiene un href no válido.",description:"Un href vacío afecta SEO y accesibilidad.",test:()=>!1}),o({id:"seo-link-missing-aria",group:"seo",category:"links",mode:"overlay",severity:"warn",query:"a[href]",message:"El enlace no tiene aria-label.",description:"Añade un aria-label cuando el texto no es suficientemente descriptivo.",test:e=>e.textContent.trim().length>2||e.hasAttribute("aria-label")}),o({id:"seo-og-title-missing",group:"seo",category:"opengraph",mode:"panel",severity:"warn",message:"Falta og:title.",description:"Necesario para compartir en redes sociales.",test:()=>!!document.querySelector("meta[property='og:title']")||{el:document.head,message:"Falta og:title.",description:"Añade &lt;meta property='og:title' content='...'&gt;",severity:"warn",category:"opengraph",mode:"panel"}}),o({id:"seo-og-image-missing",group:"seo",category:"opengraph",mode:"panel",severity:"warn",message:"Falta og:image.",description:"Las redes sociales necesitan una imagen destacada.",test:()=>!!document.querySelector("meta[property='og:image']")||{el:document.head,message:"Falta og:image.",description:"Añade &lt;meta property='og:image' content='url.jpg'&gt;",severity:"warn",category:"opengraph",mode:"panel"}}),o({id:"seo-noindex",group:"seo",category:"indexing",mode:"panel",severity:"warn",message:"La página está marcada como no indexable.",description:"Meta robots contiene noindex.",test(){const e=document.querySelector("meta[name='robots']");if(!e)return!0;return!(e.getAttribute("content")||"").includes("noindex")||{el:e,message:"La página tiene meta noindex.",description:"Elimina 'noindex' para permitir indexación.",severity:"warn",category:"indexing",mode:"panel"}}}),o({id:"seo-img-missing-dimensions",group:"seo",category:"performance",mode:"overlay",severity:"warn",query:"img",message:"Imagen sin width/height definidos.",description:"Define width y height en la imagen para evitar Layout Shift (CLS).",test(e){const t=e.getAttribute("width"),n=e.getAttribute("height");return!(!t&&!n)&&(!(!t||!n)&&!(parseInt(t,10)<=0||parseInt(n,10)<=0))}}),o({id:"seo-img-no-lazy",group:"seo",category:"performance",mode:"panel",severity:"info",query:"img",message:"Imagen por debajo de la mitad de la página sin lazy loading.",description:"Añade loading='lazy' para optimizar rendimiento.",test(e){const t=e.getBoundingClientRect();return"lazy"===e.getAttribute("loading")||t.top<window.innerHeight}}),o({id:"seo-script-no-defer",group:"seo",category:"performance",mode:"panel",severity:"warn",query:"script[src]",message:"Script sin defer o async.",description:"Añadir defer/async mejora rendimiento y reduce bloqueo.",test:e=>e.hasAttribute("defer")||e.hasAttribute("async")}),o({id:"seo-img-no-modern-format",group:"seo",category:"performance",mode:"panel",severity:"info",query:"img",message:"Imagen sin formato moderno (WebP o AVIF).",description:"Considera usar WebP o AVIF para optimizar las imágenes.",test(e){const t=e.getAttribute("src")||"";return t.endsWith(".webp")||t.endsWith(".avif")}}),o({id:"seo-theme-color-missing",group:"seo",category:"performance",mode:"panel",severity:"info",message:"Falta meta name='theme-color'.",description:"Mejora la integración con móviles Android.",test:()=>!!document.querySelector("meta[name='theme-color']")})];const a={bar:null,selector:null,rules:null,overlay:null,panel:null,domResults:null,seoResults:null,activeView:"dom",mounted:!1};function r(){a.activeView="dom",a.overlay.clearAll(),a.overlay.highlightList(a.domResults.overlay),a.panel.close(),a.bar.setActiveButton("dom")}function l(){a.activeView="seo",a.overlay.clearAll(),a.overlay.highlightList(a.seoResults.overlay),a.panel.updateList(a.seoResults.panel),a.panel.open(),a.bar.setActiveButton("seo")}window.HTMLInspector||(window.HTMLInspector={init:function(){a.mounted||(a.mounted=!0,a.panel=function(){const e=document.createElement("div");e.id="__inspector-panel__",e.style.position="fixed",e.style.top=0,e.style.right=0,e.style.width="380px",e.style.height="100vh",e.style.zIndex="2147483647",e.style.pointerEvents="none",e.style.display="none",document.body.appendChild(e);const t=e.attachShadow({mode:"open"}),n=document.createElement("div");n.className="panel-wrapper";const o=document.createElement("style");o.textContent="\n    :host { all: initial;  z-index: 2147483647 !important;}\n\n    .panel-wrapper {\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: 580px;\n      height: 100%;\n      background: #18181b;\n      border-left: 1px solid #2d2d2f;\n      color: #fff;\n      font-family: system-ui, sans-serif;\n      display: flex;\n      flex-direction: column;\n      pointer-events: auto;\n      transform: translateX(100%);\n      transition: transform .25s ease;\n    }\n\n    .panel-wrapper.open {\n      transform: translateX(0);\n    }\n\n    /* Header */\n    .panel-header {\n      padding: 1rem;\n      border-bottom: 1px solid rgba(255,255,255,.1);\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      font-size: 1rem;\n    }\n\n    .panel-header button {\n      background: transparent;\n      border: none;\n      color: #fff;\n      font-size: 1.4rem;\n      cursor: pointer;\n      padding: .25rem .5rem;\n    }\n\n    /* Tabs */\n    .tabs {\n      display: flex;\n      border-bottom: 1px solid rgba(255,255,255,.1);\n    }\n\n    .tab {\n      flex: 1;\n      padding: .6rem 0;\n      text-align: center;\n      cursor: pointer;\n      font-size: .9rem;\n      user-select: none;\n      background: rgba(255,255,255,.03);\n      border-bottom: 2px solid transparent;\n      transition: .15s ease background, .15s ease border;\n    }\n\n    .tab:hover {\n      background: rgba(255,255,255,.08);\n    }\n\n    .tab.active {\n      background: rgba(255,255,255,.12);\n      border-bottom-color: #7cc6ff;\n    }\n\n    /* List */\n    .panel-list {\n      flex: 1;\n      overflow-y: auto;\n      padding: 1rem;\n      font-size: .9rem;\n    }\n\n    .panel-item {\n      background: rgba(255,255,255,.06);\n      padding: .75rem;\n      border-radius: .5rem;\n      margin-bottom: .75rem;\n      border: 1px solid rgba(255,255,255,.1);\n      display: flex;\n      flex-direction: column;\n      gap: .4rem;\n    }\n\n    .panel-item h3 {\n      margin: 0;\n      font-size: .95rem;\n      color: #ff6b6b;\n    }\n\n    .panel-item.warn h3 { color: #ffc05e; }\n    .panel-item.info h3 { color: #6bb8ff; }\n\n    .panel-item p {\n      margin: 0;\n      color: #ddd;\n      line-height: 1.4;\n    }\n\n    .panel-actions {\n      display: flex;\n      gap: .5rem;\n      margin-top: .5rem;\n    }\n\n    .panel-actions button {\n      font-size: .8rem;\n      padding: .35rem .6rem;\n      border-radius: .35rem;\n      border: 1px solid rgba(255,255,255,.15);\n      background: rgba(255,255,255,.08);\n      color: #fff;\n      cursor: pointer;\n    }\n\n    .empty-state {\n      text-align: center;\n      padding: 2rem;\n      color: #999;\n      font-size: .9rem;\n    }\n  ";const i=document.createElement("div");i.className="panel-header",i.innerHTML='\n    <span>Audit SEO</span>\n    <button class="panel-close">×</button>\n  ';const s=document.createElement("div");s.className="tabs";const a={};[{id:"info",label:"Información"},{id:"headings",label:"Encabezados"},{id:"links",label:"Enlaces"},{id:"opengraph",label:"OpenGraph"},{id:"indexing",label:"Indexación"},{id:"performance",label:"Rendimiento"}].forEach(e=>{const t=document.createElement("div");t.className="tab",t.textContent=e.label,t.dataset.category=e.id,s.appendChild(t),a[e.id]=t}),a.info.classList.add("active");const r=document.createElement("div");r.className="panel-list",n.append(i,s,r),t.append(o,n);let l="info",d={info:[],headings:[],links:[],opengraph:[],indexing:[],performance:[]};function c(){r.innerHTML="";const e=d[l]||[];e.length?e.forEach(e=>{const t=document.createElement("div");if(t.className=`panel-item ${e.severity}`,t.innerHTML=`\n        <h3>${e.message}</h3>\n        <p>${e.description||""}</p>\n      `,e.el){const n=document.createElement("div");n.className="panel-actions";const o=document.createElement("button");o.textContent="Localizar",o.addEventListener("click",()=>{e.el.scrollIntoView({behavior:"smooth",block:"center"}),e.el.style.outline="2px solid #7cc6ff",setTimeout(()=>e.el.style.outline="",1200)}),n.appendChild(o),t.appendChild(n)}r.appendChild(t)}):r.innerHTML='<div class="empty-state">No hay errores en esta categoría.</div>'}function p(){n.classList.remove("open"),setTimeout(()=>e.style.display="none",250)}return s.addEventListener("click",e=>{const t=e.target.closest(".tab");t&&(Object.values(a).forEach(e=>e.classList.remove("active")),t.classList.add("active"),l=t.dataset.category,c())}),t.querySelector(".panel-close").addEventListener("click",p),{open:function(){e.style.display="block",requestAnimationFrame(()=>n.classList.add("open"))},close:p,updateList:function(e){Object.keys(d).forEach(e=>d[e]=[]),e.forEach(e=>{const t=e.category||"info";d[t]||(d[t]=[]),d[t].push(e)}),c()},host:e,shadow:t}}(),a.overlay=new t,a.rules=new n,a.rules.register(i),a.rules.register(s),a.selector=new e(a.overlay),a.bar=function({onToggleSelect:e=()=>{},onAuditDom:t=()=>{},onAuditSeo:n=()=>{}}={}){const o=document.createElement("div");o.id="__inspector-root__",o.style.all="initial",o.style.position="fixed",o.style.left="0",o.style.right="0",o.style.bottom="0",o.style.zIndex="2147483647",o.style.pointerEvents="none",document.documentElement.appendChild(o);const i=o.attachShadow({mode:"open"}),s=document.createElement("div");s.setAttribute("role","toolbar"),s.setAttribute("aria-label","HTML Inspector"),s.className="insp-bar",s.addEventListener("click",e=>e.stopPropagation()),s.addEventListener("mousedown",e=>e.stopPropagation()),s.addEventListener("mouseup",e=>e.stopPropagation()),s.addEventListener("keydown",e=>e.stopPropagation()),s.style.pointerEvents="auto";const a=document.createElement("style");a.textContent="\n    :host { all: initial;  z-index: 2147483647 !important;}\n    .insp-bar {\n      box-sizing: border-box;\n      position: relative;\n      width: 100%;\n      display: flex;\n      gap: .5rem;\n      align-items: center;\n      justify-content: center;\n      padding: .5rem .75rem;\n      background: rgba(20,20,24,.98);\n      color: #fff;\n      font: 500 14px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;\n      border-top: 1px solid rgba(255,255,255,.09);\n      backface-visibility: hidden;\n    }\n    .insp-btn {\n      appearance: none;\n      border: 1px solid rgba(255,255,255,.15);\n      background: rgba(255,255,255,.06);\n      color: #fff;\n      padding: .45rem .7rem;\n      border-radius: .6rem;\n      cursor: pointer;\n      display: inline-flex;\n      align-items: center;\n      gap: .5rem;\n      transition: transform .12s ease, background .12s ease, border-color .12s ease;\n      user-select: none;\n      outline: none;\n    }\n    .insp-btn:hover { background: rgba(255,255,255,.12); }\n    .insp-btn:active { transform: translateY(1px) scale(.99); }\n    .insp-btn:focus-visible { border-color: #7cc6ff; box-shadow: 0 0 0 2px rgba(124,198,255,.35) inset; }\n\n    .insp-btn--active {\n      background: rgba(124, 198, 255, 0.2);\n      border-color: #7cc6ff;\n    }\n\n    .insp-sep {\n      width: 1px;\n      height: 24px;\n      background: rgba(255,255,255,.1);\n      margin: 0 .25rem;\n    }\n\n    .insp-badge {\n      display: inline-block;\n      min-width: 1.25rem;\n      padding: 0 .35rem;\n      text-align: center;\n      border-radius: .5rem;\n      font-size: 12px;\n      line-height: 1.2;\n      background: #ff5252;\n      color: #fff;\n    }\n\n    .insp-right {\n      position: absolute;\n      right: .75rem;\n      display: inline-flex;\n      align-items: center;\n      gap: .5rem;\n    }\n\n    .insp-close {\n      border: 1px solid rgba(255,255,255,.15);\n      background: transparent;\n      color: #fff;\n      width: 32px; height: 32px;\n      border-radius: .6rem;\n      cursor: pointer;\n    }\n  ";let r=!1;const l=document.createElement("button");l.className="insp-btn",l.type="button",l.setAttribute("aria-label","Selector de elementos"),l.textContent="Selector de elementos",l.style.display="none",l.addEventListener("click",()=>{r=!r,l.classList.toggle("insp-btn--active",r),e(r)});const d=document.createElement("button");d.className="insp-btn",d.type="button",d.setAttribute("aria-label","Audit DOM"),d.innerHTML='Audit DOM <span class="insp-badge" data-badge-dom>0</span>',d.addEventListener("click",()=>t());const c=document.createElement("button");c.className="insp-btn",c.type="button",c.setAttribute("aria-label","Audit SEO"),c.innerHTML='Audit SEO <span class="insp-badge" data-badge-seo>0</span>',c.addEventListener("click",()=>n());const p=document.createElement("div");p.className="insp-right";const m=document.createElement("button");function u(){o.style.display="none"}return m.className="insp-close",m.type="button",m.setAttribute("aria-label","Cerrar barra"),m.textContent="×",s.append(l,d,c),p.append(m),i.append(a,s,p),m.addEventListener("click",()=>u()),i.addEventListener("keydown",e=>{"Escape"===e.key&&u()}),{host:o,shadow:i,open:function(){o.style.display=""},close:u,updateCounts:function({dom:e=0,seo:t=0}={}){const n=i.querySelector("[data-badge-dom]"),o=i.querySelector("[data-badge-seo]");n&&(n.textContent=String(e)),o&&(o.textContent=String(t))},destroy:function(){u(),o.remove()},setSelectActive:function(e){r=!!e,l.classList.toggle("insp-btn--active",r)},setActiveButton:function(e){d.classList.remove("insp-btn--active"),c.classList.remove("insp-btn--active"),"dom"===e&&d.classList.add("insp-btn--active"),"seo"===e&&c.classList.add("insp-btn--active")}}}({onToggleSelect:e=>{e?a.selector.enable():a.selector.disable()},onAuditDom:r,onAuditSeo:l}),a.domResults=a.rules.run("dom"),a.seoResults=a.rules.run("seo"),a.bar.updateCounts({dom:a.domResults.overlay.length+a.domResults.panel.length,seo:a.seoResults.overlay.length+a.seoResults.panel.length}),r(),a.bar.open())},destroy:function(){a.selector?.disable(),a.selector=null,a.overlay?.destroy(),a.overlay=null,a.panel?.close(),a.panel=null,a.bar?.destroy(),a.bar=null,a.rules=null,a.domResults=null,a.seoResults=null,a.activeView="dom",a.mounted=!1}}),function(){function e(){if(window.HTMLInspector)try{window.HTMLInspector.init()}catch(e){console.error("[Inspector] Init error:",e)}}document.body?e():document.addEventListener("DOMContentLoaded",e)}()});
